<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario de Registro</title>

  <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">

<style>
  /* Modal */
  .modal {
    display: none;
    position: fixed;
    z-index: 10000;
    left: 0; top: 0;
    width: 100%; height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.6);
    font-family: 'Roboto', sans-serif;
  }

  .modal-content {
    background-color: #fff;
    margin: 10% auto;
    padding: 30px 35px;
    border-radius: 12px;
    width: 90%;
    max-width: 600px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
    position: relative;
    color: #333;
  }

  .modal-content h2 {
    color: #2a4abf;
    margin-top: 0;
    margin-bottom: 20px;
    font-weight: 700;
  }

  .modal-content h3 {
    margin-top: 20px;
    margin-bottom: 10px;
    color: #2a4abf;
  }

  .modal-content p {
    line-height: 1.5;
    font-size: 15px;
  }

  .modal-content p:last-child {
    font-size: 12px;
    color: #777;
    margin-top: 25px;
  }

  .close {
    position: absolute;
    top: 15px;
    right: 20px;
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    transition: color 0.3s;
  }
  .close:hover {
    color: #000;
  }

  /* Link del aviso */
  a#openModal {
    color: #2a4abf;
    text-decoration: underline;
    cursor: pointer;
  }

  a#openModal:hover {
    color: #1d3699;
  }
</style>
  
  <style>
    /* Estilos del modal */
.modal {
  display: none;
  position: fixed;
  z-index: 1000;
  left: 0; top: 0;
  width: 100%; height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.6);
}

.modal-content {
  background-color: white;
  margin: 10% auto;
  padding: 30px;
  border-radius: 10px;
  width: 90%;
  max-width: 600px;
  box-shadow: 0 5px 15px rgba(0,0,0,0.3);
  position: relative;
  font-family: 'Roboto', sans-serif;
}

.close {
  color: #aaa;
  font-size: 24px;
  position: absolute;
  top: 15px;
  right: 20px;
  cursor: pointer;
}

.close:hover {
  color: #000;
}

    body {
      font-family: 'Roboto', sans-serif;
      background: #e3eafc;
      margin: 0;
      padding: 0;
    }

    .header {
      text-align: center;
      background: white;
      padding: 30px;
    }

    .header img {
      max-width: 400px;
    }

    .container {
      max-width: 800px;
      margin: 20px auto;
      background: white;
      padding: 40px 30px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      border-top: 10px solid #2a4abf;
    }

    h2 {
      text-align: center;
      color: #2a4abf;
      margin-bottom: 30px;
    }

    .pregunta {
      margin-bottom: 25px;
    }

    label {
      font-weight: bold;
      color: #333;
      display: block;
      margin-bottom: 6px;
    }

    input[type="text"],
    input[type="email"],
    input[type="tel"],
    select {
      width: 100%;
      padding: 10px;
      font-size: 14px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-top: 6px;
    }

    input::placeholder {
      color: #aaa;
    }

    button {
      display: block;
      width: 100%;
      background-color: #2a4abf;
      color: white;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s;
      margin-top: 20px;
    }

    button:hover {
      background-color: #1d3699;
    }
  </style>
</head>

<body>

  <div class="header">
    <img src="logo.png" alt="Logo Institucional">
  </div>

  <div class="container">
    <h2>Formulario de Registro</h2>

    <form id="quizForm1" method="POST">
      <div class="pregunta">
        <label for="nombre">¿Nombre completo?</label>
        <input type="text" id="nombre" placeholder="Escribe tu nombre completo" required>
      </div>

      <div class="pregunta">
  <label for="edad">¿Grupo de edad?</label>
  <select id="edad" required>
    <option value="">Selecciona</option>
    <option value="0-4">0 a 4 años</option>
    <option value="5-9">5 a 9 años</option>
    <option value="10-14">10 a 14 años</option>
    <option value="15-19">15 a 19 años</option>
    <option value="20-24">20 a 24 años</option>
    <option value="25-29">25 a 29 años</option>
    <option value="30-34">30 a 34 años</option>
    <option value="35-39">35 a 39 años</option>
    <option value="40-44">40 a 44 años</option>
    <option value="45-49">45 a 49 años</option>
    <option value="50-54">50 a 54 años</option>
    <option value="55-59">55 a 59 años</option>
    <option value="60-64">60 a 64 años</option>
    <option value="65-69">65 o mas</option>

  </select>
</div>


      <div class="pregunta">
        <label for="sexo">¿Sexo?</label>
        <select id="sexo" required>
          <option value="">Selecciona</option>
          <option>Mujer</option>
          <option>Hombre</option>
          <option>No binario</option>
          <option>Prefiero no decirlo</option>
        </select>
      </div>

      <div class="pregunta">
  <label for="pueblo">¿Pertenece a un Pueblo Indígena y/o Afromexicano/a? ¿Cuál?</label>
  <select id="pueblo" required>
    <option value="">Selecciona</option>
    <option value="afromexicano">Afromexicano/a</option>
    <option value="mazateco">Mazateco</option>
    <option value="zapoteco_istmo">Zapoteco del Istmo</option>
    <option value="zapoteco_valles">Zapoteco de los Valles Centrales</option>
    <option value="zapoteco_sierra">Zapoteco de la Sierra Norte</option>
    <option value="mixteco_guerrero">Mixteco de Guerrero</option>
    <option value="mixteco_oaxaca">Mixteco de Oaxaca</option>
    <option value="mixteco_puebla">Mixteco de Puebla</option>
    <option value="triqui">Triqui</option>
    <option value="huave">Huave</option>
    <option value="chontal">Chontal de Oaxaca</option>
    <option value="ixcateco">Ixcateco</option>
    <option value="chocholteco">Chocholteco</option>
    <option value="chinanteco">Chinanteco</option>
    <option value="totonaco">Totonaco</option>
    <option value="mixe">Mixe</option>
    <option value="xtoka">Xtoka</option>
    <option value="cuicateco">Cuicateco</option>
    <option value="tepehuano">Tepehuano</option>
    <option value="nahua">Nahua</option>
  </select>
</div>


      <div class="pregunta">
  <label for="habla-lengua">¿Habla alguna lengua indígena?</label>
  <select id="habla-lengua" required onchange="mostrarCampoLengua()">
    <option value="">Selecciona</option>
    <option value="si">Sí</option>
    <option value="no">No</option>
  </select>
</div>

<div class="pregunta" id="campo-lengua" style="display: none;">
  <label for="lengua">¿Cuál?</label>
  <input type="text" id="lengua" placeholder="Ej. Zapoteco, Mixe, etc.">
</div>

<script>
  function mostrarCampoLengua() {
    const seleccion = document.getElementById('habla-lengua').value;
    const campoLengua = document.getElementById('campo-lengua');
    campoLengua.style.display = seleccion === 'si' ? 'block' : 'none';
  }
</script>


      <div class="pregunta">
  <label for="tiene-discapacidad">¿Presenta algún tipo de discapacidad?</label>
  <select id="tiene-discapacidad" required onchange="mostrarTiposDiscapacidad()">
    <option value="">Selecciona</option>
    <option value="si">Sí</option>
    <option value="no">No</option>
  </select>
</div>

<div class="pregunta" id="tipos-discapacidad" style="display: none;">
  <label for="discapacidad">¿Cuál?</label>
  <select id="discapacidad">
    <option value="">Selecciona</option>
    <option value="motriz">Motriz</option>
    <option value="visual">Visual</option>
    <option value="auditiva">Auditiva</option>
    <option value="intelectual">Intelectual</option>
    <option value="psicosocial">Psicosocial</option>
    <option value="lenguaje_comunicacion">Lenguaje o comunicación</option>
    <option value="otra">Otra</option>
  </select>
</div>

<script>
  function mostrarTiposDiscapacidad() {
    const seleccion = document.getElementById('tiene-discapacidad').value;
    const campoTipos = document.getElementById('tipos-discapacidad');
    campoTipos.style.display = seleccion === 'si' ? 'block' : 'none';
  }
</script>


      <div class="pregunta">
  <label for="nivel-educativo">Nivel educativo de la institución</label>
  <select id="nivel-educativo" required onchange="mostrarCampoInstitucion()">
    <option value="">Selecciona</option>
    <option value="preescolar">Preescolar</option>
    <option value="primaria">Primaria</option>
    <option value="secundaria">Secundaria</option>
    <option value="preparatoria">Preparatoria</option>
    <option value="universidad">Universidad</option>
  </select>
</div>

<div class="pregunta" id="campo-institucion" style="display: none;">
  <label for="institucion">Especifique</label>
  <input type="text" id="institucion" placeholder="Nombre de la universidad, preparatoria, etc.">
</div>

<script>
  function mostrarCampoInstitucion() {
    const seleccion = document.getElementById('nivel-educativo').value;
    const campo = document.getElementById('campo-institucion');
    campo.style.display = seleccion ? 'block' : 'none';
  }
</script>


      <div class="pregunta">
        <label for="telefono">Teléfono</label>
        <input type="tel" id="telefono" placeholder="Ej. 9511234567">
      </div>

      <div class="pregunta">
        <label for="correo">Correo electrónico</label>
        <input type="email" id="correo" placeholder="correo@ejemplo.com">
      </div>
<div class="pregunta">
  <label>
    <input type="checkbox" required>
    He leído y acepto el <a href="#" id="openModal">Aviso de Privacidad</a>
  </label>
</div>

      <button type="submit">Enviar</button>
    </form>
  </div>
<script>
  document.getElementById("quizForm1").addEventListener("submit", function (e) {
    e.preventDefault();

    const data = {
      nombre: document.getElementById("nombre").value,
      edad: document.getElementById("edad").value,
      sexo: document.getElementById("sexo").value,
      pueblo: document.getElementById("pueblo").value,
      lengua: document.getElementById("lengua").value,
      discapacidad: document.getElementById("discapacidad").value,
      institucion: document.getElementById("institucion").value,
      telefono: document.getElementById("telefono").value,
      correo: document.getElementById("correo").value,
    };

    fetch('https://formulario-i4n3.onrender.com/sendForm', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json'
  },
  body: JSON.stringify(data)
})

    .then(res => {
      if (!res.ok) {
        throw new Error(`Error del servidor: ${res.status}`);
      }
      return res.json();
    })
    .then(result => {
      alert(result.message || "Datos guardados con éxito");
      document.getElementById("quizForm1").reset();
      window.location.href = "index2.html";
    })
    .catch(err => {
      alert('Error al enviar: ' + err.message);
    });
  });
</script>



<!-- Modal -->
<div id="modalAviso" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>Aviso de Privacidad</h2>
    <p>
       <strong>Aviso de privacidad:</strong> La Defensoría de los Derechos Humanos del Pueblo de Oaxaca, con domicilio en la calle de los Derechos Humanos 2010, Colonia América Sur, Oaxaca de Juárez,  Oaxaca, es el Responsable del tratamiento de los datos personales que usted proporcione; los cuales serán protegidos conforme a lo dispuesto por la Ley de Datos Personales en Posesión de Sujetos Obligados del Estado de Oaxaca, y demás normatividad que resulte aplicable.

    </p>
    <h3>Uso de la información</h3>
    <p>
      La información proporcionada será utilizada únicamente para contacto . No será compartida con terceros.
    </p>
    <h3>Derechos ARCO</h3>
    <p>
      Usted puede solicitar el acceso, rectificación, cancelación u oposición de sus datos mediante contacto a: <strong>privacidad@institucion.edu.mx</strong>.
    </p>
    <p style="font-size: 12px; color: #777;">Última actualización: mayo 2025</p>
  </div>
</div>

<!-- Script para el modal -->
<script>
  const modal = document.getElementById("modalAviso");
  const openBtn = document.getElementById("openModal");
  const closeBtn = document.querySelector(".close");

  openBtn.onclick = function (e) {
    e.preventDefault();
    modal.style.display = "block";
  }

  closeBtn.onclick = function () {
    modal.style.display = "none";
  }

  window.onclick = function (event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }
</script>

</body>
</html>
